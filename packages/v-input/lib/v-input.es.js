function e(e,t,r){new Function("obj","value",`return obj.${t} = value`)(e,r)}function t(e,t,r,n="input"){if(""===e)return e;let i=String(e);const o=r["!0"]||r.integer||r.negative||r.number||r.positive||Array.isArray(t);if(r.number&&!/^[-.\d]+$/.test(i)&&(i=i.replace(/[^-.\d]+/g,"")),r.integer&&!/^[-\d]+$/.test(i)&&(i=i.replace(/[^-\d]+/g,"")),r.positive&&!r.negative&&(i=i.replace(/[^.\d]+/g,"")),r.negative&&!r.positive&&(i=i.replace(/[^-.\d]+/g,"")),o&&(i=i.replace(/\s+/g,""),""!==i&&"-"!==i&&!isFinite(+i))){const e=i.match(/-?\d+\.?\d+/);i=e?e[0]:""}if("blur"!==n||!r.negative||r.positive||/^-/.test(i)||0===Number(i)||(i=""),Array.isArray(t)&&""!==i){const[e,r]=t,o=Number(i);"blur"===n&&(o<e||o>r)&&(i="")}return"blur"===n&&o&&""!==i&&(i=String(Number(i))),"function"==typeof t&&(i=t(i)),i}function r(r,n,i){const o=(i.arg||"").replace(/:/g,"."),u=i.modifiers;if(!function(e,t){let r=e;return t.split(".").every((e=>!!Object.prototype.hasOwnProperty.call(r,e)&&(r=r[e],!0)))}(r,o))throw new Error(`The expression \`this.${o}\` not found.`);!function(e){if(Array.isArray(e)){const[t,r]=e;if(2!==e.length)throw Error("Array length must be 2");if("number"!=typeof t||"number"!=typeof r)throw Error("Array's elements must be `Number`");if(t>r)throw Error("In the array `[min, max]`, min cannot be greater than max")}else if(void 0!==e){if("function"!=typeof e)throw Error("The `bindValue` must be `Function`");if(["","123","12ab","1.2.3.4"].some((t=>{const r=e(t);return r!==e(r)})))throw Error("Make sure `bindValue` function DONOT return dynamic value.")}}(i.value),n.vInputUnwatch=r.$watch(o,((n,a)=>{if("string"==typeof n){let s=t(n,i.value,u);""!==n&&""===s&&""!==a&&(s=t(a,i.value,u)),e(r,o,s)}}));const a=function(e){const t=Object.prototype.toString.call(e).slice(8,-1);return["HTMLInputElement","HTMLTextAreaElement"].indexOf(t)>-1}(n)?n:n.querySelector("input,textarea");if(a){const s=()=>{const n=(a=r,o.split(".").reduce(((e,t)=>e[t]),a));var a;let s=n;u["!0"]&&(isNaN(n)||(s=String(Number(n)),"0"===s&&(s=""))),e(r,o,t(s,i.value,u,"blur"))};a.addEventListener("blur",s),n.vInputBlur=[a,s]}}function n(e){var t;null==(t=e.vInputUnwatch)||t.call(e),e.vInputBlur&&e.vInputBlur[0].removeEventListener("blur",e.vInputBlur[1])}const i={mounted(e,t){const n=t.instance;n&&r(n,e,t)},beforeUnmount:n};var o={install:e=>{e.version.startsWith("2.")?e.directive("input",{bind(e,t,n){r(n.context,e,t)},unbind:n}):e.version.startsWith("3.")&&e.directive("input",i)}};export default o;export{i as directive};
