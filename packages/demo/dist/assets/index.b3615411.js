import{V as e,c as t,v as n}from"./vendor.42511d02.js";function r(e,t,n){new Function("obj","value",`return obj.${t} = value`)(e,n)}function i(e,t,n,r="input"){if(""===e)return e;let i=String(e);const u=n["!0"]||n.integer||n.negative||n.number||n.positive||Array.isArray(t);if(n.number&&!/^[-.\d]+$/.test(i)&&(i=i.replace(/[^-.\d]+/g,"")),n.integer&&!/^[-\d]+$/.test(i)&&(i=i.replace(/[^-\d]+/g,"")),n.positive&&!n.negative&&(i=i.replace(/[^.\d]+/g,"")),n.negative&&!n.positive&&(i=i.replace(/[^-.\d]+/g,"")),u&&(i=i.replace(/\s+/g,""),""!==i&&"-"!==i&&!isFinite(+i))){const e=i.match(/-?\d+\.?\d+/);i=e?e[0]:""}if("blur"!==r||!n.negative||n.positive||/^-/.test(i)||0===Number(i)||(i=""),Array.isArray(t)&&""!==i){const[e,n]=t,u=Number(i);"blur"===r&&(u<e||u>n)&&(i="")}return"blur"===r&&u&&""!==i&&(i=String(Number(i))),"function"==typeof t&&(i=t(i)),i}function u(e,t,n){const u=(n.arg||"").replace(/:/g,"."),o=n.modifiers;if(!function(e,t){let n=e;return t.split(".").every((e=>!!Object.prototype.hasOwnProperty.call(n,e)&&(n=n[e],!0)))}(e,u))throw new Error(`The expression \`this.${u}\` not found.`);!function(e){if(Array.isArray(e)){const[t,n]=e;if(2!==e.length)throw Error("Array length must be 2");if("number"!=typeof t||"number"!=typeof n)throw Error("Array's elements must be `Number`");if(t>n)throw Error("In the array `[min, max]`, min cannot be greater than max")}else if(void 0!==e){if("function"!=typeof e)throw Error("The `bindValue` must be `Function`");if(["","123","12ab","1.2.3.4"].some((t=>{const n=e(t);return n!==e(n)})))throw Error("Make sure `bindValue` function DONOT return dynamic value.")}}(n.value),t.vInputUnwatch=e.$watch(u,((t,a)=>{if("string"==typeof t){let s=i(t,n.value,o);""!==t&&""===s&&""!==a&&(s=i(a,n.value,o)),r(e,u,s)}}));const a=function(e){const t=Object.prototype.toString.call(e).slice(8,-1);return["HTMLInputElement","HTMLTextAreaElement"].indexOf(t)>-1}(t)?t:t.querySelector("input,textarea");if(a){const s=()=>{const t=(a=e,u.split(".").reduce(((e,t)=>e[t]),a));var a;let s=t;o["!0"]&&(isNaN(t)||(s=String(Number(t)),"0"===s&&(s=""))),r(e,u,i(s,n.value,o,"blur"))};a.addEventListener("blur",s),t.vInputBlur=[a,s]}}function o(e){var t;null==(t=e.vInputUnwatch)||t.call(e),e.vInputBlur&&e.vInputBlur[0].removeEventListener("blur",e.vInputBlur[1])}const a={mounted(e,t){const n=t.instance;n&&u(n,e,t)},beforeUnmount:o};var s={install:e=>{e.version.startsWith("2.")?e.directive("input",{bind(e,t,n){u(n.context,e,t)},unbind:o}):e.version.startsWith("3.")&&e.directive("input",a)}};e.use(s),e.component("MyInput",{data:()=>({myValue:"test"}),template:'\n<div>\n  <input v-model="myValue" v-input:myValue.!0="[-10,20]" />\n  <span v-text="myValue"></span>\n</div>\n'}),new e({template:`\n<div>\n  <h4>Vue v${e.version}</h4>\n  <MyInput />\n</div>`}).$mount("#vue2");const l=t({template:`\n<div>\n  <h4>Vue v${n}</h4>\n  <MyInput />\n</div>\n  `});l.component("MyInput",{data:()=>({form:{name:""}}),methods:{fn:e=>String(Number(e)+1)},template:'\n<div>\n  <input type="text" v-model="form.name" v-input:form:name.number />\n  <span v-text="form.name"></span>\n</div>\n'}),l.use(s).mount("#vue3");
