import{V as t,c as e,v as n}from"./vendor.531a2b1a.js";function r(t,e,n){new Function("obj","value",`return obj.${e} = value`)(t,n)}function i(t,e,n,r="input"){if(""===t)return t;let i=String(t);const u=n["!0"]||n.integer||n.negative||n.number||n.positive||Array.isArray(e);if(n.number&&!/^[-.\d]+$/.test(i)&&(i=i.replace(/[^-.\d]+/g,"")),n.integer&&!/^[-\d]+$/.test(i)&&(i=i.replace(/[^-\d]+/g,"")),n.positive&&!n.negative&&(i=i.replace(/[^.\d]+/g,"")),n.negative&&!n.positive&&(i=i.replace(/[^-.\d]+/g,"")),u&&""!==i&&"-"!==i&&!isFinite(+i)){const t=i.match(/-?\d+\.?\d+/);i=t?t[0]:""}if("blur"!==r||!n.negative||n.positive||/^-/.test(i)||0===Number(i)||(i=""),Array.isArray(e)){const[t,n]=e,u=Number(i);(n!==1/0&&t!==-1/0||"blur"===r)&&(u<t||u>n)&&(i="")}return"blur"===r&&u&&""!==i&&(i=String(Number(i))),"function"==typeof e&&(i=e(i)),i}function u(t,e,n){const u=(n.arg||"").replace(/:/g,"."),a=n.modifiers;if(!function(t,e){let n=t;return e.split(".").every((t=>!!Object.prototype.hasOwnProperty.call(n,t)&&(n=n[t],!0)))}(t.$data,u))throw new Error(`The expression \`this.${u}\` not found.`);!function(t){if(Array.isArray(t)){const[e,n]=t;if(2!==t.length)throw Error("Array length must be 2");if("number"!=typeof e||"number"!=typeof n)throw Error("Array's elements must be `Number`");if(e>n)throw Error("In the array `[min, max]`, min cannot be greater than max")}else if(void 0!==t){if("function"!=typeof t)throw Error("The `bindValue` must be `Function`");if(["","123","12ab","1.2.3.4"].some((e=>{const n=t(e);return n!==t(n)})))throw Error("Make sure `bindValue` function DONOT return dynamic value.")}}(n.value),e.vInputUnwatch=t.$watch(u,((e,o)=>{if("string"==typeof e){let s=i(e,n.value,a);""!==e&&""===s&&""!==o&&(s=i(o,n.value,a)),r(t.$data,u,s)}}));const o=function(t){const e=Object.prototype.toString.call(t).slice(8,-1);return["HTMLInputElement","HTMLTextAreaElement"].indexOf(e)>-1}(e)?e:e.querySelector("input,textarea");if(o){const s=()=>{const e=(o=t.$data,u.split(".").reduce(((t,e)=>t[e]),o));var o;let s=e;a["!0"]&&(isNaN(e)||(s=String(Number(e)),"0"===s&&(s=""))),r(t.$data,u,i(s,n.value,a,"blur"))};o.addEventListener("blur",s),e.vInputBlur=[o,s]}}function a(t){var e;null==(e=t.vInputUnwatch)||e.call(t),t.vInputBlur&&t.vInputBlur[0].removeEventListener("blur",t.vInputBlur[1])}const o={mounted(t,e){const n=e.instance;n&&u(n,t,e)},beforeUnmount:a};var s={install:t=>{t.version.startsWith("2.")?t.directive("input",{bind(t,e,n){u(n.context,t,e)},unbind:a}):t.version.startsWith("3.")&&t.directive("input",o)}};t.use(s),t.component("MyInput",{data:()=>({myValue:"test"}),template:'\n<div>\n  <input v-model="myValue" v-input:myValue.!0="[-10,20]" />\n  <span v-text="myValue"></span>\n</div>\n'}),new t({template:`\n<div>\n  <h4>Vue v${t.version}</h4>\n  <MyInput />\n</div>`}).$mount("#vue2");const l=e({template:`\n<div>\n  <h4>Vue v${n}</h4>\n  <MyInput />\n</div>\n  `});l.component("MyInput",{data:()=>({form:{name:""}}),methods:{fn:t=>String(Number(t)+1)},template:'\n<div>\n  <input type="text" v-model="form.name" v-input:form:name.number />\n  <span v-text="form.name"></span>\n</div>\n'}),l.use(s).mount("#vue3");
